// 现代语法测试文件

// 基本变量声明和赋值
let a = 10;
let b = 5;
let c = 0;

function println(str) {
    print(str + "\n");
}

// 基本算术运算
println("a = " + a);
println("b = " + b);
a = a + b;
println("a + b = " + a);
println("1 + 3 = " + (1 + 3));
println("5 + 3 = " + (5 + 3));
println("5 - 3 = " + (5 - 3));
println("5 * 3 = " + (5 * 3));
println("5 / 3 = " + (5 / 3));

// 字符串操作
let str1 = "Hello";
let str2 = "World";
let result = str1 + " " + str2;
println(result);

// 字符串访问
let char0 = str1[0];
let char1 = str1[1];
println("First character: " + char0);
println("Second character: " + char1);
println("String length: " + length(str1));

// 数组操作
let arr = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];
println("Array count: " + count(arr));
println("First element: " + arr[0]);
println("Last element: " + arr[9]);

// 字典操作
let person = {"name": "John", "age": 30, "city": "New York"};
println("Person name: " + person["name"]);
println("Person age: " + person["age"]);
println("Person city: " + person["city"]);

// 条件语句
if (a > b) {
    println("a is greater than b");
} else {
    println("b is greater than or equal to a");
}

// 循环语句
let i = 0;
while (i < 5) {
    println("i = " + i);
    i = i + 1;
}

// 嵌套循环
println("Nested loop:");
let j = 0;
for (i = 0; i < 3; i = i + 1) {
    for (j = 0; j < 3; j = j + 1) {
        println("i * j = " + (i * j));
    }
}

// 函数调用测试
let sum = 0;
for (i = 0; i < count(arr); i = i + 1) {
    sum = sum + arr[i];
}
println("Sum of array: " + sum);

// 字符串拼接测试
let message = "The result is: " + sum + " for array with " + count(arr) + " elements";
println("" + message);

// 输入测试
println("Enter a number:");
let input = cin();
println("You entered: " + input);

// 复杂表达式
let complex = (a + b) * 2 - (c / 2);
println("Complex expression result: " + complex);

// 布尔运算
let isPositive = a > 0;
let isEven = a % 2 == 0;
println("Is positive: " + isPositive);
println("Is even: " + isEven);

// 数组和字符串混合操作
let words = ["Hello", "World", "Test"];
println("First word: " + words[0]);
println("First word length: " + length(words[0]));
println("Words count: " + count(words));

// 嵌套字典
let data = {
    "user": {
        "name": "Alice",
        "scores": [85, 90, 78]
    },
    "status": "active"
};
println("User name: " + data["user"]["name"]);
println("First score: " + data["user"]["scores"][0]);
println("Status: " + data["status"]);
