// 基础综合测试

// 全局变量
let globalCounter = 0;

// 函数1：计算阶乘
function factorial(n) {
    if (n <= 1) {
        return 1;
    } else {
        return n * factorial(n - 1);
    }
}

// 函数2：异常处理测试
function testException(x, y) {
    try {
        print("计算开始");
        let result = x / y;
        print("计算结果");
        return result;
    } catch (error) {
        print("捕获异常");
        return 0;
    }
}

// 函数3：循环测试
function testLoops() {
    print("循环测试开始");
    
    // for循环
    for (let i = 1; i <= 3; i = i + 1) {
        print("循环次数");
        globalCounter = globalCounter + 1;
    }
    
    // while循环
    let sum = 0;
    let j = 1;
    while (j <= 3) {
        sum = sum + j;
        j = j + 1;
    }
    print("循环完成");
}

// 函数4：分支测试
function testBranches() {
    print("分支测试开始");
    
    let score = 85;
    
    if (score >= 80) {
        print("成绩良好");
    } else {
        print("需要努力");
    }
}

// 函数5：switch测试
function testSwitch(day) {
    switch (day) {
        case 1:
            print("星期一");
            break;
        case 2:
            print("星期二");
            break;
        default:
            print("其他");
            break;
    }
}

// 主函数
function main() {
    print("综合测试开始");
    
    // 函数调用
    let fact5 = factorial(5);
    print("阶乘计算完成");
    
    // 异常处理
    testException(10, 2);
    testException(10, 0);
    
    // 循环
    testLoops();
    print("循环测试完成");
    
    // 分支
    testBranches();
    
    // switch
    testSwitch(1);
    testSwitch(2);
    
    print("综合测试完成");
}

main();
